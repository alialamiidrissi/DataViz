{"version":3,"file":"test.js","sources":["../src/tests.js"],"sourcesContent":["import * as d3 from \"d3\";\nimport Slider from \"../../src/slider\";\n\n\n// Expose the slider objects so we can play around with them in the console\nvar sliders = window.sliders = {};\n\nfunction test1() {\n\tvar output = d3.select(\"#test1 .output\");\n\tvar slider = Slider(\"#test1 .slider\").margin({top: 13})\n\t\t.on(\"change\", function(x) {\n\t\t\toutput.text(d3.format(\".4f\")(x));\n\t\t})\n\t\t.draw();\n\n\t// Check that update() doesn’t needlessly replace the DOM elements\n\tvar el = document.querySelector(\"#test1 .slider .slider-channel\");\n\tslider.update();\n\tif (el != document.querySelector(\"#test1 .slider .slider-channel\")) {\n\t\tconsole.error(\"test1: Updating the slider replaced the channel element\");\n\t}\n\n\td3.select(\"#test1 button.reset\").on(\"click\", function() {\n\t\tslider.value(0.5).draw();\n\t});\n\td3.select(\"#test1 button.redraw\").on(\"click\", function() {\n\t\tslider.draw();\n\t});\n\n\tsliders.test1 = slider;\n}\n\nfunction test2() {\n\tvar slider = Slider(\"#test2 .slider\")\n\t\t.domain([2000, 2014])\n\t\t.value(2000)\n\t\t.snap(true)\n\t\t.margin({ top: 50, left: 65, right: 65 })\n\t\t.startLabel(2000)\n\t\t.label(2000)\n\t\t.endLabel(2014)\n\t\t.handleRadius(12)\n\t\t.on(\"change\", function(new_year) {\n\t\t\t// Sometimes in real code it is convenient to set the value of the slider here,\n\t\t\t// because the same code is called when the year has been changed by the\n\t\t\t// slider or by some other mechanism. Make sure this doesn’t cause problems.\n\t\t\tif (slider) slider.value(new_year).label(new_year).update();\n\t\t})\n\t\t.draw();\n\n\tsliders.test2 = slider;\n}\n\nfunction test3() {\n\tvar output = d3.select(\"#test3 .output\");\n\tvar slider = Slider(\"#test3 .slider\")\n\t\t.domain([2000, 2014])\n\t\t.axis(true)\n\t\t.ticks(2)\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.on(\"change\", function(x) {\n\t\t\toutput.text(d3.format(\".4f\")(x));\n\t\t})\n\t\t.draw();\n\n\tsliders.test3 = slider;\n}\n\nfunction test4() {\n\tvar output = d3.select(\"#test4 .output\");\n\tvar slider = Slider(\"#test4 .slider\")\n\t\t.scale(d3.scaleTime)\n\t\t.domain([\n\t\t\tnew Date(2012, 0, 1),\n\t\t\tnew Date(2013, 0, 1)\n\t\t])\n\t\t.axis(true).ticks(4).tickFormat(d3.scaleTime().tickFormat())\n\t\t.on(\"change\", function(x) {\n\t\t\toutput.text(x.toISOString().substr(0, 10));\n\t\t})\n\t\t.draw();\n\n\tsliders.test4 = slider;\n}\n\nfunction test5() {\n\tvar slider = Slider(\"#test5 .slider\")\n\t\t.axis(true)\n\t\t.handleFill(\"red\")\n\t\t.on(\"change\", function(x) { slider.update(); })\n\t\t.update();\n\n\tsliders.test5 = slider;\n}\n\nfunction test6() {\n\tvar slider = Slider(\"#test6 .slider\")\n\t\t.domain([1900, 2000])\n\t\t.axis(true)\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.value(1950)\n\t\t.snap(true)\n\t\t.label(\"Year\")\n\t\t.handleRadius(5)\n\t\t.channelHeight(50)\n\t\t.on(\"change\", function(new_year) {\n\t\t\tif (slider) slider.value(new_year).label(new_year).update();\n\t\t})\n\t\t.draw();\n\n\tsliders.test6 = slider;\n}\n\nfunction test7() {\n\tvar slider = Slider(\"#test7 .slider\")\n\t\t.domain([1900, 2000])\n\t\t.axis(true)\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.value(1950)\n\t\t.snap(true)\n\t\t.label(\"Year\")\n\t\t.handleRadius(25)\n\t\t.channelHeight(5)\n\t\t.on(\"change\", function(new_year) {\n\t\t\tif (slider) slider.value(new_year).label(new_year).update();\n\t\t})\n\t\t.draw();\n\n\tsliders.test7 = slider;\n}\n\nfunction test8() {\n\tvar slider = Slider(\"#test8 .slider\")\n\t\t.domain([1900, 2000])\n\t\t.margin({top: 20, left: 100, right: 100})\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.value(1950)\n\t\t.snap(true)\n\t\t.startLabel(1900)\n\t\t.endLabel(2000)\n\t\t.label(\"Year\")\n\t\t.handleRadius(15)\n\t\t.channelHeight(30)\n\t\t.on(\"change\", function(new_year) {\n\t\t\tif (slider) slider.value(new_year).label(new_year).update();\n\t\t})\n\t\t.draw();\n\n\tsliders.test8 = slider;\n}\n\nfunction test9() {\n\tvar slider = Slider(\"#test9 .slider\")\n\t\t.domain([1900, 2000])\n\t\t.margin({top: 20, left: 100, right: 100})\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.value(1950)\n\t\t.snap(true)\n\t\t.startLabel(1900)\n\t\t.endLabel(2000)\n\t\t.startLabelBelow(true)\n\t\t.endLabelBelow(true)\n\t\t.label(\"Year\")\n\t\t.handleRadius(15)\n\t\t.channelHeight(30)\n\t\t.on(\"change\", function(new_year) {\n\t\t\tif (slider) slider.value(new_year).label(new_year).update();\n\t\t})\n\t\t.draw();\n\n\tsliders.test9 = slider;\n}\n\nfunction test10() {\n\tvar slider = Slider(\"#test10 .slider\")\n\t\t.domain([0, 1])\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.value(0)\n\t\t.margin({ left: 42, right: 42 })\n\t\t.snap(true)\n\t\t.startLabel(\"Off\")\n\t\t.endLabel(\"On\")\n\t\t.handleRadius(15)\n\t\t.channelHeight(30)\n\t\t.draw();\n\n\tsliders.test10 = slider;\n}\n\nfunction test11() {\n\tvar slider = Slider(\"#test11 .slider svg g\")\n\t\t.width(400).height(50)\n\t\t.domain([0, 10])\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.value(0)\n\t\t.margin({ left: 42, right: 42 })\n\t\t.handleRadius(15)\n\t\t.channelHeight(30)\n\t\t.draw();\n\n\tsliders.test11 = slider;\n}\n\nfunction test12() {\n\tvar slider = Slider(\"#test12 .slider\")\n\t\t.tickFormat(d3.format(\"d\"))\n\t\t.margin({ left: 42, right: 42 })\n\t\t.handleRadius(15)\n\t\t.channelHeight(30)\n\t\t.channelRadius(0)\n\t\t.draw();\n\n\tsliders.test10 = slider;\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\ttest1();\n\ttest2();\n\ttest3();\n\ttest4();\n\ttest5();\n\ttest6();\n\ttest7();\n\ttest8();\n\ttest9();\n\ttest10();\n\ttest11();\n\ttest12();\n});\n"],"names":["d3.select","d3.format","d3.scaleTime"],"mappings":"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"}